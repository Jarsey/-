<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JavaScript算法和数据结构之集合</title>
</head>

<body>
    <script type="text/javascript">
        class Set {
            constructor() {
                this.items = {}
            }
            has(value) {
                return this.items.hasOwnProperty(value)
            }
            add(value) {
                if (!this.has(value)) {
                    this.items[value] = value
                    return true
                }
                return false
            }
            remove(value) {
                if (this.has(value)) {
                    delete this.items[value]
                    return true
                }
                return false
            }
            get size() {
                return Object.keys(this.items).length
            }
            get value() {
                return Object.keys(this.items)
            }
            // 并集
            union(otherSet) {
                const unionSet = new Set()
                this.value.forEach(item => unionSet.add(item))
                otherSet.value.forEach(item => unionSet.add(item))
                return otherSet
            }
            // 交集
            intersection(otherSet) {
                const intersectionSet = new Set()
                this.value.forEach(item => {
                    if (otherSet.has(item)) {
                        intersectionSet.add(item)
                    }
                })
                return intersectionSet
            }
            // 差集
            difference(otherSet) {
                const differenceSet = new Set()
                this.value.forEach(item => {
                    if (!otherSet.has(item)) {
                        differenceSet.add(item)
                    }
                })
                return differenceSet
            }
            // 子集
            subset(otherSet) {
                if (this.size > otherSet.size) {
                    return false
                }
                // some() 方法用于检测数组中的元素是否满足指定条件（函数提供）
                return !this.value.some((item) => {
                    !otherSet.has(item)
                })
            }
        }
        // 使用集合类
        // const set = new Set()
        // set.add(1)
        // console.log(set.values) // ["1"] 
        // console.log(set.has(1)) // true 
        // console.log(set.size) // 1 
        // set.add(2)
        // console.log(set.values) // ["1", "2"] 
        // console.log(set.has(2)) // true 
        // console.log(set.size) // 2 
        // set.remove(1)
        // console.log(set.values) // ["2"] 
        // set.remove(2)
        // console.log(set.values) // []
    </script>
</body>

</html>